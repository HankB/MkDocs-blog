<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Pi CM4 NVME performance: Bicool Mini Base vs. IO Board - Hank's public Docs</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Hank's public Docs</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../.." class="nav-link">Hank's Docs home page</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Food</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../food/bean-dip/" class="dropdown-item">Bean Dip</a>
</li>
                                    
<li>
    <a href="../../food/peach-cobbler/" class="dropdown-item">Peach Cobbler from scratch</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Tech</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../Debian_ZFS_on_root_to_a_new_drive/" class="dropdown-item">Debian Root on ZFS to a new drive</a>
</li>
                                    
<li>
    <a href="../ESP8266-RTOS-SDK_on_Debian/" class="dropdown-item">Using ESP8266-RTOS-SDK on Debian</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">Pi CM4 NVME performance: Bicool Mini Base vs. IO Board</a>
</li>
                                    
<li>
    <a href="../OWI-535-Robot_Arm_Control_assembly/" class="dropdown-item">OWI-535 Robot Arm Control assembly</a>
</li>
                                    
<li>
    <a href="../Pi-Debian-Root-on-ZFS/" class="dropdown-item">Raspberry Pi installed with root on ZFS</a>
</li>
                                    
<li>
    <a href="../Pi-Zero_Debian_DS18B20/" class="dropdown-item">Pi Zero/W with working DS18B20</a>
</li>
                                    
<li>
    <a href="../Raspberry-Pi/" class="dropdown-item">Raspberry Pi</a>
</li>
                                    
<li>
    <a href="../TUI-challenge/" class="dropdown-item">Jupiter Broadcasting TUI challenge</a>
</li>
                                    
<li>
    <a href="../Troubleshooting-Debian-root-on-ZFS/" class="dropdown-item">Troubleshooting Debian root on ZFS</a>
</li>
                                    
<li>
    <a href="../ZBM-Void-Linux/" class="dropdown-item">Void Linux, MBR boot using ZFSBootMenu</a>
</li>
                                    
<li>
    <a href="../ZFS-boot-menu/" class="dropdown-item">ZFS boot menu</a>
</li>
                                    
<li>
    <a href="../dphacks-CM4_Ether_Board/" class="dropdown-item">dphacks CM4 Ether Board</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Data</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../data/benchmarks/" class="dropdown-item">CM4 benchmarks</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Test debug</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../test-debug/Pi-4B-Bookworm-WiFi/" class="dropdown-item">Testing networking (WiFi, ETH) Pi 4B</a>
</li>
                                    
<li>
    <a href="../../test-debug/Pi-4B-Bookworm-testing/" class="dropdown-item">Pi 4B Bookworm testing</a>
</li>
                                    
<li>
    <a href="../../test-debug/Pi-4B-KDE_bookworm/" class="dropdown-item">KDE Plasma X11 login hang</a>
</li>
                                    
<li>
    <a href="../../test-debug/Pi-4B-firmware/" class="dropdown-item">Firmware issue raspi-firmware Debian Bookworm</a>
</li>
                                    
<li>
    <a href="../../test-debug/Pi-new-CM4-WiFi-debugging/" class="dropdown-item">New Raspberry Pi CM4 WiFi testing</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Pi CM4 PCIe</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../test-debug/Pi-CM4-PCIe/Pi_CM4_PCIe_testing/" class="dropdown-item">Pi CM4 PCIe testing</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Sanoid</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../test-debug/Sanoid/sanoid/" class="dropdown-item">Sanoid issue #813 testing</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../ESP8266-RTOS-SDK_on_Debian/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../OWI-535-Robot_Arm_Control_assembly/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-light">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#pi-cm4-nvme-performance-bicool-mini-base-vs-io-board" class="nav-link">Pi CM4 NVME performance: Bicool Mini Base vs. IO Board</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#purpose" class="nav-link">Purpose</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#motivation" class="nav-link">Motivation:</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#process" class="nav-link">Process</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#interpretation" class="nav-link">Interpretation</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="pi-cm4-nvme-performance-bicool-mini-base-vs-io-board">Pi CM4 NVME performance: Bicool Mini Base vs. IO Board</h1>
<h2 id="purpose">Purpose</h2>
<p>Compare performance of an NVME SSD on the (Waveshare) Bicool Mini Base A vs. the official Compute module 4 IO Board. testing is on CM4 H/W that uses direct PCIe/NVME connections (no USB adapter.)</p>
<h2 id="motivation">Motivation:</h2>
<p>I configured a recently received CM4 on a Mini Base and performed some intitial testing to establish correct operation. Initial tests produced lower than expected disk bandwidth. But there are confounding factors that could affect the tests. The initial test was performed with the SSD installed on an IO Board using a PCIe/NVME adapter and a CM4 with 8GB RAM. The card was then moved to the Mini Base which had a CM4 with 4GB RAM. Possible confounding factors.</p>
<ul>
<li>4GB vs 8GB CM4</li>
<li>Cooling on the SSD due to mounting location.</li>
<li>Debian vs. Ubuntu (Further comparisons were performed between Debian on the CM4/8GB and the CM4/4GB on the respective base boards.)</li>
<li>Differing ZFS versions on the Debian vs. Ubuntu installations.</li>
</ul>
<h2 id="process">Process</h2>
<ol>
<li>Install vanilla Debian Bookworm to the 256GB NVME SSD. The same SSD will be used for all testing. It will be erased using <code>blkdiscard</code> prior to each installatioin and it will be trimmed prior to each disk benchmark.</li>
<li>Perform two benchmarks on the CM4/4GB on the Mini Base. Direct a small fan at the SSD to control temperature and note results including SSD temperature.</li>
<li>Evaluate.</li>
<li>Swap the NVME SSD to the IO Board with the CM4/8GB.</li>
</ol>
<pre><code class="language-text">time -p iozone -f /home/hbarta/iozone.tst -e -o -a -s 100M -r 4k -i 0 -i 1 -i 2
time -p fio --randrepeat=1 --ioengine=libaio --gtod_reduce=1 --directory=/home/hbarta/ --name=&quot;io 256GB SSSTC NVME CM4/4GB Mini Base&quot; --filename=test.dat --bs=4k --iodepth=64 --size=4G --readwrite=randrw --rwmixread=75
time -p fio --randrepeat=1 --ioengine=libaio --gtod_reduce=1 --directory=/home/hbarta/ --name=&quot;io 256GB SSSTC NVME CM4/8GB IO Board&quot; --filename=test.dat --bs=4k --iodepth=64 --size=4G --readwrite=randrw --rwmixread=75
</code></pre>
<h3 id="testing-on-bicool-mini-base">Testing on Bicool Mini Base</h3>
<pre><code class="language-text">hbarta@io:~$ time -p iozone -f /home/hbarta/iozone.tst -e -o -a -s 100M -r 4k -i 0 -i 1 -i 2
        Iozone: Performance Test of File I/O
                Version $Revision: 3.489 $
                Compiled for 64 bit mode.
                Build: linux 

        Contributors:William Norcott, Don Capps, Isom Crawford, Kirby Collins
                     Al Slater, Scott Rhine, Mike Wisner, Ken Goss
                     Steve Landherr, Brad Smith, Mark Kelly, Dr. Alain CYR,
                     Randy Dunlap, Mark Montague, Dan Million, Gavin Brebner,
                     Jean-Marc Zucconi, Jeff Blomberg, Benny Halevy, Dave Boone,
                     Erik Habbinga, Kris Strecker, Walter Wong, Joshua Root,
                     Fabrice Bacchella, Zhenghua Xue, Qin Li, Darren Sawyer,
                     Vangel Bojaxhi, Ben England, Vikentsi Lapa,
                     Alexey Skidanov, Sudhir Kumar.

        Run began: Tue Oct  3 18:02:42 2023

        Include fsync in write timing
        SYNC Mode. 
        Auto Mode
        File size set to 102400 kB
        Record Size 4 kB
        Command line used: iozone -f /home/hbarta/iozone.tst -e -o -a -s 100M -r 4k -i 0 -i 1 -i 2
        Output is in kBytes/sec
        Time Resolution = 0.000001 seconds.
        Processor cache size set to 1024 kBytes.
        Processor cache line size set to 32 bytes.
        File stride size set to 17 * record size.
                                                              random    random     bkwd    record    stride                                    
              kB  reclen    write  rewrite    read    reread    read     write     read   rewrite      read   fwrite frewrite    fread  freread
          102400       4     2781     4202   996001  1008897   986084     4180                                                                

iozone test complete.
real 86.36
user 0.41
sys 7.08
hbarta@io:~$ sudo fstrim -v /
[sudo] password for hbarta: 
/: 291.3 MiB (305418240 bytes) trimmed
hbarta@io:~$ time -p iozone -f /home/hbarta/iozone.tst -e -o -a -s 100M -r 4k -i 0 -i 1 -i 2
        Iozone: Performance Test of File I/O
                Version $Revision: 3.489 $
                Compiled for 64 bit mode.
                Build: linux 

        Contributors:William Norcott, Don Capps, Isom Crawford, Kirby Collins
                     Al Slater, Scott Rhine, Mike Wisner, Ken Goss
                     Steve Landherr, Brad Smith, Mark Kelly, Dr. Alain CYR,
                     Randy Dunlap, Mark Montague, Dan Million, Gavin Brebner,
                     Jean-Marc Zucconi, Jeff Blomberg, Benny Halevy, Dave Boone,
                     Erik Habbinga, Kris Strecker, Walter Wong, Joshua Root,
                     Fabrice Bacchella, Zhenghua Xue, Qin Li, Darren Sawyer,
                     Vangel Bojaxhi, Ben England, Vikentsi Lapa,
                     Alexey Skidanov, Sudhir Kumar.

        Run began: Tue Oct  3 18:04:48 2023

        Include fsync in write timing
        SYNC Mode. 
        Auto Mode
        File size set to 102400 kB
        Record Size 4 kB
        Command line used: iozone -f /home/hbarta/iozone.tst -e -o -a -s 100M -r 4k -i 0 -i 1 -i 2
        Output is in kBytes/sec
        Time Resolution = 0.000001 seconds.
        Processor cache size set to 1024 kBytes.
        Processor cache line size set to 32 bytes.
        File stride size set to 17 * record size.
                                                              random    random     bkwd    record    stride                                    
              kB  reclen    write  rewrite    read    reread    read     write     read   rewrite      read   fwrite frewrite    fread  freread
          102400       4     2824     4204   972903  1030087   992526     4181                                                                

iozone test complete.
real 85.77
user 0.45
sys 6.91
hbarta@io:~$ 
</code></pre>
<p>SSD temperature started at 30°C and ranged up to 35°C.</p>
<pre><code class="language-text">hbarta@io:~$ sudo fstrim -v /
/: 217.6 MiB (228143104 bytes) trimmed
hbarta@io:~$ time -p fio --randrepeat=1 --ioengine=libaio --gtod_reduce=1 --directory=/home/hbarta/ --name=&quot;io 256GB SSSTC NVME CM4/4GB Mini Base&quot; --filename=test.dat --bs=4k --iodepth=64 --size=4G --readwrite=randrw --rwmixread=75
io 256GB SSSTC NVME CM4/4GB Mini Base: (g=0): rw=randrw, bs=(R) 4096B-4096B, (W) 4096B-4096B, (T) 4096B-4096B, ioengine=libaio, iodepth=64
fio-3.33
Starting 1 process
io 256GB SSSTC NVME CM4/4GB Mini Base: Laying out IO file (1 file / 4096MiB)
Jobs: 1 (f=1): [m(1)][100.0%][r=28.2MiB/s,w=9512KiB/s][r=7220,w=2378 IOPS][eta 00m:00s]
io 256GB SSSTC NVME CM4/4GB Mini Base: (groupid=0, jobs=1): err= 0: pid=3879: Tue Oct  3 18:09:33 2023
  read: IOPS=6987, BW=27.3MiB/s (28.6MB/s)(3070MiB/112478msec)
   bw (  KiB/s): min= 7048, max=35136, per=100.00%, avg=27977.00, stdev=3829.51, samples=224
   iops        : min= 1762, max= 8784, avg=6994.25, stdev=957.38, samples=224
  write: IOPS=2335, BW=9341KiB/s (9565kB/s)(1026MiB/112478msec); 0 zone resets
   bw (  KiB/s): min= 2368, max=11656, per=100.00%, avg=9350.50, stdev=1294.02, samples=224
   iops        : min=  592, max= 2914, avg=2337.63, stdev=323.50, samples=224
  cpu          : usr=6.07%, sys=31.19%, ctx=786476, majf=0, minf=19
  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=0.1%, 16=0.1%, 32=0.1%, &gt;=64=100.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, &gt;=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.1%, &gt;=64=0.0%
     issued rwts: total=785920,262656,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=64

Run status group 0 (all jobs):
   READ: bw=27.3MiB/s (28.6MB/s), 27.3MiB/s-27.3MiB/s (28.6MB/s-28.6MB/s), io=3070MiB (3219MB), run=112478-112478msec
  WRITE: bw=9341KiB/s (9565kB/s), 9341KiB/s-9341KiB/s (9565kB/s-9565kB/s), io=1026MiB (1076MB), run=112478-112478msec

Disk stats (read/write):
  nvme0n1: ios=785907/179450, merge=0/27, ticks=76811/91049, in_queue=167872, util=100.00%
real 127.56
user 9.10
sys 47.59
hbarta@io:~$ sudo fstrim -v /
/: 0 B (0 bytes) trimmed
hbarta@io:~$ time -p fio --randrepeat=1 --ioengine=libaio --gtod_reduce=1 --directory=/home/hbarta/ --name=&quot;io 256GB SSSTC NVME CM4/4GB Mini Base&quot; --filename=test.dat --bs=4k --iodepth=64 --size=4G --readwrite=randrw --rwmixread=75
io 256GB SSSTC NVME CM4/4GB Mini Base: (g=0): rw=randrw, bs=(R) 4096B-4096B, (W) 4096B-4096B, (T) 4096B-4096B, ioengine=libaio, iodepth=64
fio-3.33
Starting 1 process
Jobs: 1 (f=1): [m(1)][100.0%][r=25.2MiB/s,w=8752KiB/s][r=6442,w=2188 IOPS][eta 00m:00s]
io 256GB SSSTC NVME CM4/4GB Mini Base: (groupid=0, jobs=1): err= 0: pid=4012: Tue Oct  3 18:12:22 2023
  read: IOPS=6171, BW=24.1MiB/s (25.3MB/s)(3070MiB/127349msec)
   bw (  KiB/s): min= 6744, max=28472, per=100.00%, avg=25109.00, stdev=3328.02, samples=250
   iops        : min= 1686, max= 7118, avg=6277.23, stdev=832.00, samples=250
  write: IOPS=2062, BW=8250KiB/s (8448kB/s)(1026MiB/127349msec); 0 zone resets
   bw (  KiB/s): min= 2232, max=10184, per=100.00%, avg=8391.55, stdev=1142.27, samples=250
   iops        : min=  558, max= 2546, avg=2097.87, stdev=285.58, samples=250
  cpu          : usr=5.29%, sys=29.41%, ctx=786636, majf=0, minf=19
  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=0.1%, 16=0.1%, 32=0.1%, &gt;=64=100.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, &gt;=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.1%, &gt;=64=0.0%
     issued rwts: total=785920,262656,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=64

Run status group 0 (all jobs):
   READ: bw=24.1MiB/s (25.3MB/s), 24.1MiB/s-24.1MiB/s (25.3MB/s-25.3MB/s), io=3070MiB (3219MB), run=127349-127349msec
  WRITE: bw=8250KiB/s (8448kB/s), 8250KiB/s-8250KiB/s (8448kB/s-8448kB/s), io=1026MiB (1076MB), run=127349-127349msec

Disk stats (read/write):
  nvme0n1: ios=784644/184516, merge=0/32, ticks=89281/97942, in_queue=187238, util=98.44%
real 127.78
user 7.14
sys 37.96
hbarta@io:~$ 
</code></pre>
<p>SSD temperature hit a high of 39°C.</p>
<p>Results were considerably better than when running Ubuntu on ZFS (without cooling). Next step will be to move the SSD to the IO Board (which presently has a CM4/8GB installed) and repeat the benchmark.</p>
<h3 id="repeat-testing-using-cm48gb-on-io-board">Repeat testing using CM4/8GB on IO Board</h3>
<pre><code class="language-text">hbarta@io:~$ time -p iozone -f /home/hbarta/iozone.tst -e -o -a -s 100M -r 4k -i 0 -i 1 -i 2
        Iozone: Performance Test of File I/O
                Version $Revision: 3.489 $
                Compiled for 64 bit mode.
                Build: linux 

        Contributors:William Norcott, Don Capps, Isom Crawford, Kirby Collins
                     Al Slater, Scott Rhine, Mike Wisner, Ken Goss
                     Steve Landherr, Brad Smith, Mark Kelly, Dr. Alain CYR,
                     Randy Dunlap, Mark Montague, Dan Million, Gavin Brebner,
                     Jean-Marc Zucconi, Jeff Blomberg, Benny Halevy, Dave Boone,
                     Erik Habbinga, Kris Strecker, Walter Wong, Joshua Root,
                     Fabrice Bacchella, Zhenghua Xue, Qin Li, Darren Sawyer,
                     Vangel Bojaxhi, Ben England, Vikentsi Lapa,
                     Alexey Skidanov, Sudhir Kumar.

        Run began: Tue Oct  3 22:11:09 2023

        Include fsync in write timing
        SYNC Mode. 
        Auto Mode
        File size set to 102400 kB
        Record Size 4 kB
        Command line used: iozone -f /home/hbarta/iozone.tst -e -o -a -s 100M -r 4k -i 0 -i 1 -i 2
        Output is in kBytes/sec
        Time Resolution = 0.000001 seconds.
        Processor cache size set to 1024 kBytes.
        Processor cache line size set to 32 bytes.
        File stride size set to 17 * record size.
                                                              random    random     bkwd    record    stride                                    
              kB  reclen    write  rewrite    read    reread    read     write     read   rewrite      read   fwrite frewrite    fread  freread
          102400       4     2707     4187  1107793  1098466   992342     4187                                                                

iozone test complete.
real 87.40
user 0.47
sys 7.17
hbarta@io:~$ sudo fstrim /
[sudo] password for hbarta: 
Sorry, try again.
[sudo] password for hbarta: 
hbarta@io:~$ time -p iozone -f /home/hbarta/iozone.tst -e -o -a -s 100M -r 4k -i 0 -i 1 -i 2
        Iozone: Performance Test of File I/O
                Version $Revision: 3.489 $
                Compiled for 64 bit mode.
                Build: linux 

        Contributors:William Norcott, Don Capps, Isom Crawford, Kirby Collins
                     Al Slater, Scott Rhine, Mike Wisner, Ken Goss
                     Steve Landherr, Brad Smith, Mark Kelly, Dr. Alain CYR,
                     Randy Dunlap, Mark Montague, Dan Million, Gavin Brebner,
                     Jean-Marc Zucconi, Jeff Blomberg, Benny Halevy, Dave Boone,
                     Erik Habbinga, Kris Strecker, Walter Wong, Joshua Root,
                     Fabrice Bacchella, Zhenghua Xue, Qin Li, Darren Sawyer,
                     Vangel Bojaxhi, Ben England, Vikentsi Lapa,
                     Alexey Skidanov, Sudhir Kumar.

        Run began: Tue Oct  3 22:14:17 2023

        Include fsync in write timing
        SYNC Mode. 
        Auto Mode
        File size set to 102400 kB
        Record Size 4 kB
        Command line used: iozone -f /home/hbarta/iozone.tst -e -o -a -s 100M -r 4k -i 0 -i 1 -i 2
        Output is in kBytes/sec
        Time Resolution = 0.000001 seconds.
        Processor cache size set to 1024 kBytes.
        Processor cache line size set to 32 bytes.
        File stride size set to 17 * record size.
                                                              random    random     bkwd    record    stride                                    
              kB  reclen    write  rewrite    read    reread    read     write     read   rewrite      read   fwrite frewrite    fread  freread
          102400       4     2771     4184  1084930  1077146   988608     4175                                                                

iozone test complete.
real 86.62
user 0.43
sys 7.26
hbarta@io:~$ 
</code></pre>
<p>SSD Temperature up to about 34°C.</p>
<pre><code class="language-text">hbarta@io:~$ time -p fio --randrepeat=1 --ioengine=libaio --gtod_reduce=1 --directory=/home/hbarta/ --name=&quot;io 256GB SSSTC NVME CM4/8GB IO Board&quot; --filename=test.dat --bs=4k --iodepth=64 --size=4G --readwrite=randrw --rwmixread=75
io 256GB SSSTC NVME CM4/8GB IO Board: (g=0): rw=randrw, bs=(R) 4096B-4096B, (W) 4096B-4096B, (T) 4096B-4096B, ioengine=libaio, iodepth=64
fio-3.33
Starting 1 process
Jobs: 1 (f=1): [m(1)][100.0%][r=25.5MiB/s,w=8900KiB/s][r=6539,w=2225 IOPS][eta 00m:00s]
io 256GB SSSTC NVME CM4/8GB IO Board: (groupid=0, jobs=1): err= 0: pid=1042: Tue Oct  3 22:20:31 2023
  read: IOPS=5991, BW=23.4MiB/s (24.5MB/s)(3070MiB/131174msec)
   bw (  KiB/s): min= 6872, max=26364, per=100.00%, avg=23992.80, stdev=3362.60, samples=262
   iops        : min= 1718, max= 6591, avg=5998.15, stdev=840.66, samples=262
  write: IOPS=2002, BW=8009KiB/s (8202kB/s)(1026MiB/131174msec); 0 zone resets
   bw (  KiB/s): min= 2272, max= 9328, per=100.00%, avg=8019.03, stdev=1150.93, samples=262
   iops        : min=  568, max= 2332, avg=2004.74, stdev=287.74, samples=262
  cpu          : usr=5.06%, sys=26.46%, ctx=786433, majf=0, minf=18
  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=0.1%, 16=0.1%, 32=0.1%, &gt;=64=100.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, &gt;=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.1%, &gt;=64=0.0%
     issued rwts: total=785920,262656,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=64

Run status group 0 (all jobs):
   READ: bw=23.4MiB/s (24.5MB/s), 23.4MiB/s-23.4MiB/s (24.5MB/s-24.5MB/s), io=3070MiB (3219MB), run=131174-131174msec
  WRITE: bw=8009KiB/s (8202kB/s), 8009KiB/s-8009KiB/s (8202kB/s-8202kB/s), io=1026MiB (1076MB), run=131174-131174msec

Disk stats (read/write):
  nvme0n1: ios=785656/234183, merge=0/36, ticks=95721/121855, in_queue=217591, util=100.00%
real 131.68
user 6.99
sys 35.37
hbarta@io:~$ sudo fstrim /
hbarta@io:~$ time -p fio --randrepeat=1 --ioengine=libaio --gtod_reduce=1 --directory=/home/hbarta/ --name=&quot;io 256GB SSSTC NVME CM4/8GB IO Board&quot; --filename=test.dat --bs=4k --iodepth=64 --size=4G --readwrite=randrw --rwmixread=75
io 256GB SSSTC NVME CM4/8GB IO Board: (g=0): rw=randrw, bs=(R) 4096B-4096B, (W) 4096B-4096B, (T) 4096B-4096B, ioengine=libaio, iodepth=64
fio-3.33
Starting 1 process
Jobs: 1 (f=1): [m(1)][100.0%][r=25.3MiB/s,w=8596KiB/s][r=6483,w=2149 IOPS][eta 00m:00s]
io 256GB SSSTC NVME CM4/8GB IO Board: (groupid=0, jobs=1): err= 0: pid=1215: Tue Oct  3 22:23:52 2023
  read: IOPS=6044, BW=23.6MiB/s (24.8MB/s)(3070MiB/130019msec)
   bw (  KiB/s): min= 7344, max=26000, per=100.00%, avg=24581.84, stdev=3220.57, samples=255
   iops        : min= 1836, max= 6500, avg=6145.43, stdev=805.13, samples=255
  write: IOPS=2020, BW=8081KiB/s (8274kB/s)(1026MiB/130019msec); 0 zone resets
   bw (  KiB/s): min= 2264, max= 9296, per=100.00%, avg=8216.15, stdev=1117.15, samples=255
   iops        : min=  566, max= 2324, avg=2054.02, stdev=279.29, samples=255
  cpu          : usr=5.28%, sys=28.31%, ctx=786591, majf=0, minf=18
  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=0.1%, 16=0.1%, 32=0.1%, &gt;=64=100.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, &gt;=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.1%, &gt;=64=0.0%
     issued rwts: total=785920,262656,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=64

Run status group 0 (all jobs):
   READ: bw=23.6MiB/s (24.8MB/s), 23.6MiB/s-23.6MiB/s (24.8MB/s-24.8MB/s), io=3070MiB (3219MB), run=130019-130019msec
  WRITE: bw=8081KiB/s (8274kB/s), 8081KiB/s-8081KiB/s (8274kB/s-8274kB/s), io=1026MiB (1076MB), run=130019-130019msec

Disk stats (read/write):
  nvme0n1: ios=785133/182571, merge=0/30, ticks=92316/93259, in_queue=185591, util=98.26%
real 130.42
user 7.28
sys 37.34
hbarta@io:~$ 
</code></pre>
<p>Using elapsed time as a crude approximation of the benchmark result:</p>
<table>
<thead>
<tr>
<th>CM4</th>
<th>base</th>
<th>benchmark</th>
<th>ET</th>
</tr>
</thead>
<tbody>
<tr>
<td>4GB</td>
<td>Mini Base</td>
<td>iozone</td>
<td>86.36</td>
</tr>
<tr>
<td>4GB</td>
<td>Mini Base</td>
<td>iozone</td>
<td>85.77</td>
</tr>
<tr>
<td>4GB</td>
<td>Mini Base</td>
<td>fio</td>
<td>127.56</td>
</tr>
<tr>
<td>4GB</td>
<td>Mini Base</td>
<td>fio</td>
<td>127.78</td>
</tr>
<tr>
<td>8GB</td>
<td>IO Board</td>
<td>iozone</td>
<td>87.40</td>
</tr>
<tr>
<td>8GB</td>
<td>IO Board</td>
<td>iozone</td>
<td>86.62</td>
</tr>
<tr>
<td>8GB</td>
<td>IO Board</td>
<td>fio</td>
<td>131.68</td>
</tr>
<tr>
<td>8GB</td>
<td>IO Board</td>
<td>fio</td>
<td>130.42</td>
</tr>
</tbody>
</table>
<h2 id="interpretation">Interpretation</h2>
<p>The results are close enough to not warrant further investigation.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
