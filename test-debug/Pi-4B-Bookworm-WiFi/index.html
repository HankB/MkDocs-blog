<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Testing networking (WiFi, ETH) Pi 4B - Hank's public Docs</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Hank's public Docs</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Hank's Docs home page</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Food <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../food/bean-dip/" class="dropdown-item">Bean Dip</a>
</li>
                                    
<li>
    <a href="../../food/peach-cobbler/" class="dropdown-item">Peach Cobbler from scratch</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Tech <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../tech/Debian_ZFS_on_root_to_a_new_drive/" class="dropdown-item">Debian Root on ZFS to a new drive</a>
</li>
                                    
<li>
    <a href="../../tech/ESP8266-RTOS-SDK_on_Debian/" class="dropdown-item">Using ESP8266-RTOS-SDK on Debian</a>
</li>
                                    
<li>
    <a href="../../tech/NVME_performance-Bicool_Mini_Base-vs-IO_Board/" class="dropdown-item">Pi CM4 NVME performance: Bicool Mini Base vs. IO Board</a>
</li>
                                    
<li>
    <a href="../../tech/OWI-535-Robot_Arm_Control_assembly/" class="dropdown-item">OWI-535 Robot Arm Control assembly</a>
</li>
                                    
<li>
    <a href="../../tech/Pi-Debian-Root-on-ZFS/" class="dropdown-item">Raspberry Pi installed with root on ZFS</a>
</li>
                                    
<li>
    <a href="../../tech/Raspberry-Pi/" class="dropdown-item">Raspberry Pi</a>
</li>
                                    
<li>
    <a href="../../tech/Troubleshooting-Debian-root-on-ZFS/" class="dropdown-item">Troubleshooting Debian root on ZFS</a>
</li>
                                    
<li>
    <a href="../../tech/dphacks-CM4_Ether_Board/" class="dropdown-item">dphacks CM4 Ether Board</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Data</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../tech/data/benchmarks/" class="dropdown-item">CM4 benchmarks</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Test debug <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="./" class="dropdown-item active">Testing networking (WiFi, ETH) Pi 4B</a>
</li>
                                    
<li>
    <a href="../Pi-4B-Bookworm-testing/" class="dropdown-item">Pi 4B Bookworm testing</a>
</li>
                                    
<li>
    <a href="../Pi-4B-KDE_bookworm/" class="dropdown-item">KDE Plasma X11 login hang</a>
</li>
                                    
<li>
    <a href="../Pi-4B-firmware/" class="dropdown-item">Firmware issue raspi-firmware Debian Bookworm</a>
</li>
                                    
<li>
    <a href="../Pi-new-CM4-WiFi-debugging/" class="dropdown-item">New Raspberry Pi CM4 WiFi testing</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Pi CM4 PCIe</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../Pi-CM4-PCIe/Pi_CM4_PCIe_testing/" class="dropdown-item">Pi CM4 PCIe testing</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Sanoid</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../Sanoid/sanoid/" class="dropdown-item">Sanoid issue #813 testing</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../../tech/data/benchmarks/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../Pi-4B-Bookworm-testing/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-light">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#testing-networking-wifi-eth-pi-4b" class="nav-link">Testing networking (WiFi, ETH) Pi 4B</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#status" class="nav-link">Status</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#5150-2-arm64" class="nav-link">5.15.0-2-arm64</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#5160-5-arm64" class="nav-link">5.16.0-5-arm64</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#5170-rc8-arm64" class="nav-link">5.17.0-rc8-arm64</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#5170-trunk-arm64" class="nav-link">5.17.0-trunk-arm64</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#2022-04-03-repeating-testing" class="nav-link">2022-04-03 repeating testing</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="testing-networking-wifi-eth-pi-4b">Testing networking (WiFi, ETH) Pi 4B</h1>
<p>Testing the network interfaces on a Pi 4B running Debian Bookworm with available kernel packages. Following installation the `raspi-firmware1 package was held due to performance probnlems with the upgrade. All testing was performed with the firmware that came with the install media.</p>
<p>Initial tests were hampered by two issues.</p>
<ul>
<li>I had mistyped the WiFi password causing connection attempts to fail.</li>
<li>Ethernet was unmanaged and remained configured even when physically disconnected. This masked WiFi even though WiFi appeared to be associated (wlan0 had an IP address handed out by the local DHCP server.)</li>
</ul>
<p>I got the Ethernet under NetworkManager control and retyped the password and achieved some success with WiFi. Ethernet seemed to work without difficulty with all kernels.</p>
<h2 id="status">Status</h2>
<p>I'm not happy with results, will retest when I have a chance (not till the weekend.)</p>
<h2 id="5150-2-arm64">5.15.0-2-arm64</h2>
<p>This is the kernel that comes with the install media (<code>20220121_raspi_4_bookworm.img.xz</code>).</p>
<pre><code class="language-text">Linux up 5.15.0-2-arm64 #1 SMP Debian 5.15.5-2 (2021-12-18) aarch64 GNU/Linux
</code></pre>
<p>No WiFi. <code>dmesg</code> capture at <a href="https://paste.debian.net/1236231/">https://paste.debian.net/1236231/</a> No <code>wlan0</code> in <code>ip addr</code> output.</p>
<p>Ethernet seems to work OK.</p>
<h2 id="5160-5-arm64">5.16.0-5-arm64</h2>
<p>This is the kernel available in the repo to upgrade following installation.</p>
<pre><code class="language-text">Linux up 5.16.0-5-arm64 #1 SMP Debian 5.16.14-1 (2022-03-15) aarch64 GNU/Linux
</code></pre>
<p>WiFi works w/out difficulty on both 5G and 2.4G APs. Switching repeatedly between the two SSIDs takes less than ten seconds.</p>
<h2 id="5170-rc8-arm64">5.17.0-rc8-arm64</h2>
<p>Available from experimental</p>
<pre><code class="language-text">Linux up 5.17.0-rc8-arm64 #1 SMP Debian 5.17~rc8-1~exp1 (2022-03-14) aarch64 GNU/Linux
</code></pre>
<p>WiFi works on 5G, does not associate on 2.4G. Captured output to <code>daemon.log</code> when trying to switch from an associated 5G AP to a 2.4G AP up until NM re-requested the WiFi password. <a href="https://paste.debian.net/1236229/">https://paste.debian.net/1236229/</a></p>
<p>Connect times to the 5G AP was quick at times and not quick other times. At one point it was necessary to turn WiFi off and on again to get it to associate. (Both 5G and 2.4G radios are on the same WiFi AP.)</p>
<p>Did not shutdown cleanly. Had to pull power.</p>
<h2 id="5170-trunk-arm64">5.17.0-trunk-arm64</h2>
<p>From experimental</p>
<pre><code class="language-text">Linux up 5.17.0-trunk-arm64 #1 SMP Debian 5.17.1-1~exp1 (2022-03-29) aarch64 GNU/Linux
</code></pre>
<p>Tested a second time and system hung. Hadn't remoted in - working from desktop. Happened once before and was unable to restart GDM and <code>shutdown</code> hung too. Was able to examine logs and <code>dmesg</code> output and saw nothing unusual but may not have been looking in the right place. Had to remove power both times.</p>
<p>Both 5G and 2.4G WiFi seem to be working well. Switching back and forth between them seems timely.</p>
<h2 id="2022-04-03-repeating-testing">2022-04-03 repeating testing</h2>
<h3 id="setup-recent-install-of-bookworm-install-media">Setup: Recent install of bookworm install media.</h3>
<pre><code class="language-text">xzcat 20220121_raspi_4_bookworm.img.xz&gt; /dev/sdf
</code></pre>
<p>Install <code>raspi-firmware</code> from unstable (direct download) and <code>network-manager</code> and full upgrade of all bookworm packages.</p>
<pre><code class="language-text">apt upgrade -y
wget http://ftp.us.debian.org/debian/pool/non-free/r/raspi-firmware/raspi-firmware_1.20220328+ds-1_arm64.deb
apt install ./raspi-firmware_1.20220328+ds-1_arm64.deb
apt install network-manager
</code></pre>
<h3 id="instructions-for-testingmanaging-wifi-using-cli">Instructions for testing/managing WiFi using CLI</h3>
<blockquote>
<p>HankB_, yes, from the command line, first, turn the wifi device on "nmcli radio wifi on" then list the wifi connections "nmcli dev wifi list", then sudo nmcli dev wifi connect network-ssid password "network-password"</p>
</blockquote>
<p>Test with <code>5.17.0-trunk-arm64</code> (ssh in via Ethernet)</p>
<pre><code class="language-text">root@charm:~# nmcli radio wifi on
root@charm:~# nmcli dev wifi list
IN-USE  BSSID              SSID                MODE   CHAN  RATE        SIGNAL  BARS  SECURITY 
        70:4F:57:11:58:63  Nacho24             Infra  6     130 Mbit/s  100     ****  WPA2     
        10:C3:7B:55:05:E8  Giant Voice System  Infra  10    195 Mbit/s  97      ****  WPA2     
        10:C3:7B:55:05:E9  NRO-33              Infra  10    195 Mbit/s  97      ****  WPA2     
        70:4F:57:11:58:62  Nacho5G             Infra  149   270 Mbit/s  77      ***   WPA2     
        10:C3:7B:55:05:EC  Fanghorn Forest     Infra  157   405 Mbit/s  77      ***   WPA2     
root@charm:~# nmcli dev wifi connect &quot;Fanghorn Forest&quot; password &quot;elided&quot;
Device 'wlan0' successfully activated with 'elided'.
root@charm:~# ip addr
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000
    link/ether dc:a6:32:bf:65:b5 brd ff:ff:ff:ff:ff:ff
    inet 192.168.1.103/24 brd 192.168.1.255 scope global dynamic eth0
       valid_lft 5209sec preferred_lft 5209sec
    inet6 2601:249:1680:36f0:dea6:32ff:febf:65b5/64 scope global dynamic mngtmpaddr 
       valid_lft 86390sec preferred_lft 14390sec
    inet6 fe80::dea6:32ff:febf:65b5/64 scope link 
       valid_lft forever preferred_lft forever
3: wlan0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether dc:a6:32:bf:65:b6 brd ff:ff:ff:ff:ff:ff
    inet 192.168.1.164/24 brd 192.168.1.255 scope global dynamic noprefixroute wlan0
       valid_lft 7194sec preferred_lft 7194sec
    inet6 2601:249:1680:36f0::1a72/128 scope global dynamic noprefixroute 
       valid_lft 7197sec preferred_lft 4497sec
    inet6 2601:249:1680:36f0:dd52:e503:3685:cb27/64 scope global dynamic noprefixroute 
       valid_lft 86397sec preferred_lft 14397sec
    inet6 fe80::add9:ac99:37f5:fddb/64 scope link noprefixroute 
       valid_lft forever preferred_lft forever
root@charm:~# 
root@charm:~# 
root@charm:~# 
root@charm:~# ifdown eth0
Killed old client process
Internet Systems Consortium DHCP Client 4.4.2-P1
Copyright 2004-2021 Internet Systems Consortium.
All rights reserved.
For info, please visit https://www.isc.org/software/dhcp/

Listening on LPF/eth0/dc:a6:32:bf:65:b5
Sending on   LPF/eth0/dc:a6:32:bf:65:b5
Sending on   Socket/fallback
DHCPRELEASE of 192.168.1.103 on eth0 to 192.168.1.1 port 67
</code></pre>
<p>(This session was over Ethernet and resulted in a hung session following <code>ifdown eth0</code> but I felt that was the easiest way to confirm that traffic was actually going over WiFi.)</p>
<p>Reconnnect </p>
<pre><code class="language-text">Linux charm 5.17.0-trunk-arm64 #1 SMP Debian 5.17.1-1~exp1 (2022-03-29) aarch64 GNU/Linux
</code></pre>
<p>Kernels available</p>
<pre><code class="language-text">root@charm:~# ls -l /boot/vmlinuz*
-rw-r--r-- 1 root root 28614528 Dec 18 23:20 /boot/vmlinuz-5.15.0-2-arm64
-rw-r--r-- 1 root root 29998976 Mar 15 06:54 /boot/vmlinuz-5.16.0-5-arm64
-rw-r--r-- 1 root root 30003072 Mar 29 07:16 /boot/vmlinuz-5.17.0-trunk-arm64
root@charm:~# 
</code></pre>
<p>Test with <code>5.15.0-2-arm64</code> (ssh in via Ethernet)</p>
<pre><code class="language-text">root@charm:~# uname -a
Linux charm 5.15.0-2-arm64 #1 SMP Debian 5.15.5-2 (2021-12-18) aarch64 GNU/Linux
root@charm:~# ip addr
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000
    link/ether dc:a6:32:bf:65:b5 brd ff:ff:ff:ff:ff:ff
    inet 192.168.1.103/24 brd 192.168.1.255 scope global dynamic eth0
       valid_lft 7136sec preferred_lft 7136sec
    inet6 2601:249:1680:36f0:dea6:32ff:febf:65b5/64 scope global dynamic mngtmpaddr 
       valid_lft 86394sec preferred_lft 14394sec
    inet6 fe80::dea6:32ff:febf:65b5/64 scope link 
       valid_lft forever preferred_lft forever
root@charm:~# nmcli radio wifi on
root@charm:~# nmcli dev wifi list
root@charm:~# nmcli dev wifi connect &quot;Fanghorn Forest&quot; password &quot;elided&quot;
Error: No Wi-Fi device found.
root@charm:~# ip addr
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000
    link/ether dc:a6:32:bf:65:b5 brd ff:ff:ff:ff:ff:ff
    inet 192.168.1.103/24 brd 192.168.1.255 scope global dynamic eth0
       valid_lft 7098sec preferred_lft 7098sec
    inet6 2601:249:1680:36f0:dea6:32ff:febf:65b5/64 scope global dynamic mngtmpaddr 
       valid_lft 86397sec preferred_lft 14397sec
    inet6 fe80::dea6:32ff:febf:65b5/64 scope link 
       valid_lft forever preferred_lft forever
root@charm:~# 
</code></pre>
<p>dmesg paste at <a href="https://paste.debian.net/1236660/">https://paste.debian.net/1236660/</a></p>
<h3 id="test-with-5160-5-arm64-starting-with-ssh-over-ethernet">test with <code>5.16.0-5-arm64</code> starting with SSH over Ethernet</h3>
<pre><code class="language-text">root@charm:~# uname -a
Linux charm 5.16.0-5-arm64 #1 SMP Debian 5.16.14-1 (2022-03-15) aarch64 GNU/Linux
root@charm:~# ip addr
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000
    link/ether dc:a6:32:bf:65:b5 brd ff:ff:ff:ff:ff:ff
    inet 192.168.1.103/24 brd 192.168.1.255 scope global dynamic eth0
       valid_lft 7155sec preferred_lft 7155sec
    inet6 2601:249:1680:36f0:dea6:32ff:febf:65b5/64 scope global dynamic mngtmpaddr 
       valid_lft 86389sec preferred_lft 14389sec
    inet6 fe80::dea6:32ff:febf:65b5/64 scope link 
       valid_lft forever preferred_lft forever
3: wlan0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether dc:a6:32:bf:65:b6 brd ff:ff:ff:ff:ff:ff
    inet 192.168.1.164/24 brd 192.168.1.255 scope global dynamic noprefixroute wlan0
       valid_lft 5692sec preferred_lft 5692sec
    inet6 2601:249:1680:36f0::1a72/128 scope global dynamic noprefixroute 
       valid_lft 5696sec preferred_lft 2996sec
    inet6 2601:249:1680:36f0:dd52:e503:3685:cb27/64 scope global dynamic noprefixroute 
       valid_lft 86390sec preferred_lft 14390sec
    inet6 fe80::add9:ac99:37f5:fddb/64 scope link noprefixroute 
       valid_lft forever preferred_lft forever
root@charm:~# ifdown eth0
Killed old client process
Internet Systems Consortium DHCP Client 4.4.2-P1
Copyright 2004-2021 Internet Systems Consortium.
All rights reserved.
For info, please visit https://www.isc.org/software/dhcp/

Listening on LPF/eth0/dc:a6:32:bf:65:b5
Sending on   LPF/eth0/dc:a6:32:bf:65:b5
Sending on   Socket/fallback
DHCPRELEASE of 192.168.1.103 on eth0 to 192.168.1.1 port 67
</code></pre>
<p>Start second session over WiFi</p>
<pre><code class="language-text">hbarta@charm:~$ ip addr
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: eth0: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc mq state DOWN group default qlen 1000
    link/ether dc:a6:32:bf:65:b5 brd ff:ff:ff:ff:ff:ff
3: wlan0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether dc:a6:32:bf:65:b6 brd ff:ff:ff:ff:ff:ff
    inet 192.168.1.164/24 brd 192.168.1.255 scope global dynamic noprefixroute wlan0
       valid_lft 5595sec preferred_lft 5595sec
    inet6 2601:249:1680:36f0::1a72/128 scope global dynamic noprefixroute 
       valid_lft 5599sec preferred_lft 2899sec
    inet6 2601:249:1680:36f0:dd52:e503:3685:cb27/64 scope global dynamic noprefixroute 
       valid_lft 86399sec preferred_lft 14399sec
    inet6 fe80::add9:ac99:37f5:fddb/64 scope link noprefixroute 
       valid_lft forever preferred_lft forever
hbarta@charm:~$ 
</code></pre>
<p>Confirmation that WiFi is working on both 5G ("Fanghorn Forest") and 2.4G (Giant Voice System) via WiFi ssh session.</p>
<pre><code class="language-text">hbarta@charm:~$ nmcli dev wifi list 
IN-USE  BSSID              SSID                MODE   CHAN  RATE        SIGNAL  BARS  SECURITY 
        70:4F:57:11:58:63  Nacho24             Infra  6     130 Mbit/s  100     ****  WPA2     
        10:C3:7B:55:05:E9  NRO-33              Infra  10    195 Mbit/s  100     ****  WPA2     
        70:4F:57:11:58:62  Nacho5G             Infra  149   270 Mbit/s  84      ****  WPA2     
*       10:C3:7B:55:05:E8  Giant Voice System  Infra  10    195 Mbit/s  80      ***   WPA2     
        10:C3:7B:55:05:EC  Fanghorn Forest     Infra  157   405 Mbit/s  75      ***   WPA2     
hbarta@charm:~$ su -
root@charm:~# nmcli dev wifi connect &quot;Fanghorn Forest&quot;
Device 'wlan0' successfully activated with '369ee301-096a-420b-99a9-68def48160f9'.
root@charm:~# nmcli dev wifi list
IN-USE  BSSID              SSID                MODE   CHAN  RATE        SIGNAL  BARS  SECURITY 
        70:4F:57:11:58:63  Nacho24             Infra  6     130 Mbit/s  100     ****  WPA2     
        10:C3:7B:55:05:E9  NRO-33              Infra  10    195 Mbit/s  100     ****  WPA2     
        10:C3:7B:55:05:E8  Giant Voice System  Infra  10    195 Mbit/s  94      ****  WPA2     
        70:4F:57:11:58:62  Nacho5G             Infra  149   270 Mbit/s  79      ***   WPA2     
*       10:C3:7B:55:05:EC  Fanghorn Forest     Infra  157   405 Mbit/s  66      ***   WPA2     
root@charm:~# ip addr
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: eth0: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc mq state DOWN group default qlen 1000
    link/ether dc:a6:32:bf:65:b5 brd ff:ff:ff:ff:ff:ff
3: wlan0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether dc:a6:32:bf:65:b6 brd ff:ff:ff:ff:ff:ff
    inet 192.168.1.164/24 brd 192.168.1.255 scope global dynamic noprefixroute wlan0
       valid_lft 6825sec preferred_lft 6825sec
    inet6 2601:249:1680:36f0::1a72/128 scope global dynamic noprefixroute 
       valid_lft 6827sec preferred_lft 4127sec
    inet6 2601:249:1680:36f0:dd52:e503:3685:cb27/64 scope global dynamic noprefixroute 
       valid_lft 86401sec preferred_lft 14401sec
    inet6 fe80::add9:ac99:37f5:fddb/64 scope link noprefixroute 
       valid_lft forever preferred_lft forever
root@charm:~# uname -a
Linux charm 5.17.0-trunk-arm64 #1 SMP Debian 5.17.1-1~exp1 (2022-03-29) aarch64 GNU/Linux
root@charm:~# 
</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
